## Создание образов в файлах

Dockerfile - обычный текстовый файл, содержащий в себе команды, на основе которых создается образ.

## Основные инструкции для Dockerfile
**FROM**<br>
Определяет образ, на основе которого в дальнейщем создается контейнер.<br>
Эта инструкция должна быть первой незакомментированной строчкой в любом Dockerfile.

**MAINTAINER**<br>
Содержит данные об авторе (обычно - имя автора образа и его контактные данные).

**EXPOSE**<br>
Устанавливает открытый порт внутри контейнера Docker. Однако сама по себе эта команда не имеет эффекта.<br>
Для взаимодействия с сетевой средой можно, например, использовать флаг "-p" во время выполнения команды `docker run`.<br>
Вот так: `docker run -p 8080:80/tcp`.<br>
В примере выше будет установлена зависимость порта 8080 на хосте с портом 80 внутри контейнера.

**CMD**<br>
Запускает инструкцию **во время запуска** контейнера.<br>
Выполняется только самая последняя инструкция CMD (например, можно заменить ее, при вызове docker run).

**ENV**<br>
Определяет переменные среды внутри образа:<br>
`ENV VERSION_FROM_ENV 15`<br>
Это может понадобиться для использования в других командах, например, в команде RUN:<br>
`RUN apt-get install -y packagename=$VERSION_FROM_ENV`

**RUN**<br>
Запускает инструкцию внутри контейнера.

**ENTRYPOINT**<br>
Определяет программу, исполняемую при инициализации контейнера.<br>
С помощью этой инструкции, можно, например, запустить bash-скрипт, который организует исполнение скриптов запуска приложения.

**COPY**<br>
Используется для копирования файлов из контекста создания в образ.

**ADD**<br>
Как и COPY используется для копирования файлов из контекста, но также может быть использована URL-ссылка в качестве источника копирования.<br>
ADD имеет более расширенный функционал, чем COPY - например, автоматически распаковавыются архивные файлы.<br>
Несмотря на большой функционал ADD, в большинстве случаев лучше использовать более простую команду COPY, а также<br>
инструкцией RUN  с такими программами, как curl или wget для загрузки файлов.

**VOLUME**<br>
Синхронизирует указанный каталог на хосте с каталогом внутри контейнера.

**USER**<br>
Определяет имя пользователя для инструкций:<br>
RUN, CMD, ENTRYPOINT.

**WORKDIR**<br>
Определяет контекст исполнения (каталог) для инструкций:<br>
RUN, CMD, ENTRYPOINT, ADD, COPY.

**ONBUILD**<br>
Определяет инструкцию, которая исполняется когда данный образ используется в качестве основного уровня для другого образа.